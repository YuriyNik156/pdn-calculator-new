# Онлайн-калькулятор ПДН (PDN Calculator)

**Описание**

Веб-сервис для расчёта ПДН (показателя долговой нагрузки), используемого банками при принятии решений о выдаче кредита.

Пользователь может вручную ввести доход или выбрать регион проживания.
При выборе региона данные о среднем доходе подтягиваются автоматически (парсинг открытых источников).
После указания обязательных расходов сервис рассчитывает показатель ПДН.

Проект реализует рабочий онлайн-калькулятор, который автоматизирует расчёт долговой нагрузки и снижает вероятность 
ошибок при ручных подсчётах.
Может использоваться как финтех-инструмент для предварительной оценки кредитной нагрузки клиента.

---

## Основные возможности

* Расчёт показателя долговой нагрузки (ПДН)
* Ввод дохода вручную
* Выбор региона с автоподстановкой дохода
* Учет обязательных расходов
* Быстрый расчёт результата в браузере
* Адаптивный интерфейс

---

## Архитектура проекта

* **Backend** — FastAPI (Python)

* **Frontend** — HTML + Bootstrap для базового оформления

* **Парсинг данных** — requests + BeautifulSoup

* **Сервер** — Uvicorn

* **Деплой** — Render / Railway

---

## Как работает расчёт

**Формула ПДН:**

ПДН = (ежемесячные обязательные платежи / среднемесячный доход) × 100%

Где:

**Обязательные платежи** — кредиты, аренда, алименты и т.д.

**Доход** — введён вручную или получен по региону

---

## Установка и запуск локально

1. **Клонировать репозиторий**

    ```bash
    git clone https://github.com/ваш_ник/new-pdn-calculator.git
    cd new-pdn-calculator
    ```

2. **Создать виртуальное окружение**

```bash
python -m venv venv
```

Активация:

```bash
venv\Scripts\activate       # Windows
source venv/bin/activate    # Linux/macOS
```

3. **Установить зависимости**

```bash
pip install -r requirements.txt
```

4. **Запуск проекта**

```bash
uvicorn main:app --reload
```

После запуска:

```bash
http://127.0.0.1:8000
```

---

## Деплой

**Проект поддерживает бесплатный деплой:**

  * Render

**Для деплоя используется:**
    
  * requirements.txt
  * main.py (FastAPI entry point)
  * uvicorn как ASGI-сервер

---

## Структура проекта

```
new-pdn-calculator/
├── data/                                 # Данные парсинга и источники доходов
│   ├── region_wages.json
│   └── rosstat_data_regions.xlsx            
├── static/                               # CSS и статические файлы
│   └── style.css  
├── templates/                            # HTML-шаблоны
│   └── index.html
├── api_service.py                        # REST API (FastAPI-эндпоинт)
├── debug_excel.py                        # Утилита для отладки структуры Excel Росстата
├── main.py                               # Основное приложение FastAPI (веб + API + парсинг)
├── pdn_calculator.py                     # Консольная версия калькулятора ПДН (прототип логики)
├── README.md                             # Документация
└── requirements.txt                      # Зависимости проекта
```

---

## Зависимости

**Основные библиотеки:**

* fastapi — веб-фреймворк
* uvicorn — ASGI-сервер
* requests — HTTP-запросы
* beautifulsoup4 — парсинг HTML
* jinja2 — шаблоны

Полный список — в requirements.txt.

---

## Планы по развитию

* Добавить историю расчётов
* Сохранение результатов в БД
* REST API для интеграций
* Авторизация пользователей
* Docker-контейнеризация

---

## Лицензия

Проект распространяется под MIT License.

---

## Скриншоты

**Скриншот загрузки сервера**
![Скриншот загрузки сервера](screenshots/Сервер.png)

**Скриншот калькулятора**
![Скриншот калькулятораа](screenshots/Калькулятор.png)